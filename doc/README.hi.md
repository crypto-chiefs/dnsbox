# DNSBox тАФ рдХрд┐рд╕реА рднреА IP рдкрддреЗ рдХреЗ рд▓рд┐рдП HTTPS рдФрд░ Let's Encrypt

[ЁЯЗмЁЯЗз English](../README.md) | [ЁЯЗ╖ЁЯЗ║ ╨а╤Г╤Б╤Б╨║╨╕╨╣](/doc/README.ru.md) | [ЁЯЗкЁЯЗ╕ Espa├▒ol](/doc/README.es.md) | [ЁЯЗйЁЯЗк Deutsch](/doc/README.de.md) | [ЁЯЗлЁЯЗ╖ Fran├зais](/doc/README.fr.md) | [ЁЯЗиЁЯЗ│ ф╕нцЦЗ](/doc/README.zh.md) | [ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА](/doc/README.hi.md) | [ЁЯЗзЁЯЗ╖ Portugu├кs](/doc/README.pt.md) | [ЁЯЗ╣ЁЯЗ╖ T├╝rk├зe](/doc/README.tr.md) | [ЁЯЗоЁЯЗй Bahasa Indonesia](/doc/README.id.md) | [ЁЯЗ╗ЁЯЗ│ Tiс║┐ng Viс╗Зt](/doc/README.vi.md) | [ЁЯЗ░ЁЯЗ╖ эХЬъ╡ньЦ┤](/doc/README.ko.md)

[![Release](https://img.shields.io/github/v/release/crypto-chiefs/dnsbox)](https://github.com/crypto-chiefs/dnsbox/releases)
[![Go Version](https://img.shields.io/github/go-mod/go-version/crypto-chiefs/dnsbox)](../go.mod)

**DNSBox** рдПрдХ рдУрдкрди-рд╕реЛрд░реНрд╕ DNS рд╕рд░реНрд╡рд░ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рдкрддреЗ (IPv4 рдФрд░ IPv6) рдХреЗ рд▓рд┐рдП рдореБрдлреНрдд SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░ (Let's Encrypt) рдЬрд╛рд░реА рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдмрд┐рдирд╛ рдХрд┐рд╕реА рдбреЛрдореЗрди рдХреЗред рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░, API рдпрд╛ IoT рдбрд┐рд╡рд╛рдЗрд╕ рддрдХ HTTPS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реАрдзреЗ IP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред

---

## ЁЯФН рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ

- ЁЯФР **Let's Encrypt рд╕реЗ рдореБрдлреНрдд SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░**
- ЁЯМР **IPv4 рдФрд░ IPv6 рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ**
- тЪб **рдмрд┐рдирд╛ DNS рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рддрддреНрдХрд╛рд▓ HTTPS рдПрдХреНрд╕реЗрд╕**
- ЁЯФД **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдирд╡реАрдиреАрдХрд░рдг**
- ЁЯТб **рдмрд┐рдирд╛ рдбреЛрдореЗрди рдХреЗ рднреА рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ** тАФ `*.dnsbox.io` рдЙрдкрдбреЛрдореЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
- ЁЯзй **WebSocket, API рдФрд░ CI/CD рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд**
- тЪЩя╕П **рд╢реЗрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрд╕рд╛рди рдЗрдВрд╕реНрдЯреЙрд▓рд░**
- ЁЯУж рдиреНрдпреВрдирддрдо рдирд┐рд░реНрднрд░рддрд╛, рдПрдХрд▓ рдмрд╛рдЗрдирд░реА, рд╢реВрдиреНрдп-рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╢реБрд░реВ

---

## ЁЯУж рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди

```bash
bash <(curl -sSL https://raw.githubusercontent.com/crypto-chiefs/dnsbox/main/scripts/install.sh) --ip=167.172.5.205 --domain=dnsbox.io --ns=ns3
```

рдкреИрд░рд╛рдореАрдЯрд░:
- `--ip` тАФ рдЖрдкрдХрд╛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рдкрддрд╛ (рдЕрдирд┐рд╡рд╛рд░реНрдп)
- `--domain` тАФ NS рд╕реЗ рдЬреБрдбрд╝рд╛ рдореВрд▓ рдбреЛрдореЗрди (рдЬреИрд╕реЗ `dnsbox.io`)
- `--ns` тАФ рдиреЗрдорд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдбреЛрдореЗрди (рдЬреИрд╕реЗ `ns3`)
- `--force-resolv` тАФ systemd-resolved рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ 8.8.8.8 рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ
- `--debug` тАФ рд╡рд┐рд╕реНрддреГрдд рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ

---

## ЁЯМР рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ

1. DNSBox рдПрдХ рдиреЗрдорд╕рд░реНрд╡рд░ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ A/AAAA рдФрд░ TXT рд░рд┐рдХреЙрд░реНрдб рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
2. рдЖрдкрдХреЛ рдПрдХ рдЙрдкрдбреЛрдореЗрди рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ рдЬреИрд╕реЗ `167.172.5.205.dnsbox.io`ред
3. Let's Encrypt `_acme-challenge` TXT рд░рд┐рдХреЙрд░реНрдб рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдЬрд╛рд░реА рдХрд░рддрд╛ рд╣реИред
4. DNSBox рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рд╕рд╣реЗрдЬрддрд╛ рд╣реИ, рдирд╡реАрдиреАрдХреГрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкрд░реЛрд╕рддрд╛ рд╣реИред

---

## ЁЯЫа рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг

рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рдмрд╛рдж, рдЖрдк HTTPS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```bash
curl https://167.172.5.205.dnsbox.io
```

рдпрд╛ OpenSSL рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ SSL рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ:

```bash
openssl s_client -connect 167.172.5.205:443 -servername 167.172.5.205.dnsbox.io
```

---

## тЪЩя╕П рддрдХрдиреАрдХреА рд╡рд┐рд╡рд░рдг

- рднрд╛рд╖рд╛: Go
- DNS рд▓рд╛рдЗрдмреНрд░реЗрд░реА: [miekg/dns](https://github.com/miekg/dns)
- TLS: рдорд╛рдирдХ `crypto/tls`
- ACME рдХреНрд▓рд╛рдЗрдВрдЯ: рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╕рдорд░реНрдерди (certbot рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ)
- рдЗрди-рдореЗрдореЛрд░реА рд▓реЙрдЬрд┐рдХ: рд╕рднреА DNS рдЕрдиреБрд░реЛрдз рдФрд░ рдЪреИрд▓реЗрдВрдЬ рд╕реНрдореГрддрд┐ рдореЗрдВ рд╕рдВрднрд╛рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВ

---

## ЁЯзк рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ

- ЁЯФз рдмрд┐рдирд╛ рдбреЛрдореЗрди рдХреЗ DevOps рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛
- ЁЯУб рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рд╡рд╛рд▓реЗ IoT рдбрд┐рд╡рд╛рдЗрд╕
- ЁЯзк рдкрд░реАрдХреНрд╖рдг рдФрд░ рд╕реНрдЯреЗрдЬрд┐рдВрдЧ рд╡рд╛рддрд╛рд╡рд░рдг
- ЁЯЪА рдмрд┐рдирд╛ DNS рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рддреЗрдЬрд╝ API рдкрд░рд┐рдирд┐рдпреЛрдЬрди
- ЁЯФР HTTPS рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╡рд╛рд▓реЗ VPN/рдкреНрд░реЙрдХреНрд╕реА рд╕реЗрд╡рд╛рдПрдБ

---

## ЁЯФТ рд╕реБрд░рдХреНрд╖рд╛

Let's Encrypt рдХреЗ рд╕рднреА рдЪреИрд▓реЗрдВрдЬ рдЕрдиреБрд░реЛрдз рдХреЗрд╡рд▓ рдорд╛рдиреНрдп IP рд╕рддреНрдпрд╛рдкрди рдХреЗ рджреМрд░рд╛рди рд╣реА рдкреНрд░рджрд╛рди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред TLS рдирд┐рдЬреА рдХреБрдВрдЬрд┐рдпрд╛рдБ `/var/lib/dnsbox/certs` рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИрдВред

---

## ЁЯЧ║ sslip.io рдФрд░ nip.io рдХрд╛ рд╡рд┐рдХрд▓реНрдк

рдореМрдЬреВрджрд╛ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╡рд┐рдкрд░реАрдд:
- DNSBox рдПрдХ **рд╕реНрд╡-рд╣реЛрд╕реНрдЯреЗрдб рдУрдкрди-рд╕реЛрд░реНрд╕ рд╕рдорд╛рдзрд╛рди** рд╣реИ
- рдЖрдк рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ `*.yourdomain.tld` рддреИрдирд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
- **IPv6**, ACME рдФрд░ **рдмрд┐рдирд╛ рдХрд┐рд╕реА рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреА API рдХреЗ** рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ

---

## ЁЯУЬ рд▓рд╛рдЗрд╕реЗрдВрд╕

рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ MIT рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреЗ рддрд╣рдд рд▓рд╛рдЗрд╕реЗрдВрд╕ рдкреНрд░рд╛рдкреНрдд рд╣реИред рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдлреЛрд░реНрдХ рдХрд░реЗрдВ рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░реЗрдВред

---

## ЁЯФЧ рд╕рд╣рд╛рдпрдХ рд▓рд┐рдВрдХ

- ЁЯМН рд╡реЗрдмрд╕рд╛рдЗрдЯ: https://dnsbox.io/
- ЁЯУж рдЗрдВрд╕реНрдЯреЙрд▓рд░: [install.sh](https://github.com/crypto-chiefs/dnsbox/blob/main/scripts/install.sh)
- ЁЯУЦ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝: рдирд┐рд░реНрдорд╛рдгрд╛рдзреАрди

---

тнР рдпрджрд┐ рдЖрдкрдХреЛ рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЙрдкрдпреЛрдЧреА рд▓рдЧреЗ, рддреЛ рдХреГрдкрдпрд╛ GitHub рдкрд░ рдЗрд╕реЗ тнР рджреЗрдВ!
